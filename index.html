<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head>


<meta content="text/html; charset=ISO-8859-1" http-equiv="content-type"><title>TRENTOOL</title></head><body><h1><img style="width: 857px; height: 194px;" alt="(c)2014 Ute Wibral" title="(c)2014 Ute Wibral" src="Logo.png"><br>
</h1><span style="font-weight: bold;">- the Transfer Entropy Toolbox for the </span><a style="font-weight: bold;" href="http://fieldtrip.fcdonders.nl/">Fieldtrip</a><span style="font-weight: bold;"> data format.</span><br><small>Coypright (C) 2009, Michael Lindner, Raul Vicente and Michael Wibral</small><br>
<small>Coypright (C) 2012, </small><small>Michael Lindner, Raul Vicente, Michael Wibral, Nicu Pampu and Patricia Wollstadt, Viola Priesemann</small><br>
<small>Coypright (C) 2012, </small><small>Michael Lindner, Raul Vicente, Michael Wibral, Nicu Pampu and Patricia Wollstadt, Viola Priesemann</small><small>,&nbsp; Mario Martinez-Zarzuela</small><br>
<br>
<span style="font-weight: bold;">TRENTOOL acknowledges the support of :</span><br style="font-weight: bold;">
Research Grant LOEWE-NeFF 'Neuronale Koordination Forschungsschwerpunkt Frankfurt' (MW,RV,NP, MMZ)<br>
<br>
<small>TRENTOOL is distributed under the GNU public license version 3</small> (or later)<br>
<img style="width: 127px; height: 51px;" alt="" src="images/GPLv3.jpg"><br>
<ul>
	<li>Download the latest version (<a href="TRENTOOL3.3.1.zip">3.3.1</a>, <a href="bugfixe.zip">fixes</a> for plotting routines)
here. Version 3.3.1 contains new example analysis scripts and data.  <br>
  <li>Follow TRENTOOL on twitter --&gt; <a href="https://twitter.com/MWibral">@mwibral</a> <br>
<span style="font-weight: bold; color: red;"></span></li>
  <li><span style="font-weight: bold; color: red;"></span><a style="font-weight: bold;" href="TRENTOOL_doc_3.3.1.pdf">Manual</a><span style="font-weight: bold;"> </span><span style="color: red; font-weight: bold;">for Version 3.3.1</span><span style="font-weight: bold;">!</span><br>
  </li>

  <li>A version for the analysis of nonstatinary data via the
ensemble method of Gomez-Herrero And Vicente is available. &nbsp;
Download the latest version <a href="TRENTOOL3.0.zip">here</a>.<span style="font-weight: bold;"> ATTENTION: The CUDA code of this function only works under LINUX!</span><br>
  </li>

  
  </li><li>A small simulation and plotting tool was kindly provided by Felix Siebenhuehner and can be downloaded <a href="ARSimTool.zip">here</a>. (NOTE: by downloading you accept the terms of the <a href="http://www.gnu.org/licenses/gpl.html">GPL v3 license</a>). As usual the code comes as is and without any warranty.<br>

  </li>

  
  <li> We appreciate any kind of feedback: suggestions for features, usability improvements,&nbsp; crash reports etc.,!</li>
  <li>We are really happy there is a lively community around tranfer
entropy and information theory in complex systems. If our toolbox
doesn'tmake you happy, be sure to also check out what our friends have
done: (1) the magnificent all in one&nbsp; <a href="https://code.google.com/p/information-dynamics-toolkit/">Java information dynamics toolkit</a>
by Joe Lizier that provides localized measures of information transfer
and storage and general purpose mutual information estimators, (2) the <a href="http://figshare.com/articles/MuTE_toolbox_to_evaluate_Multivariate_Transfer_Entropy/1005245/1">MuTE</a>
toolbox for multivariate information transfer by Alessandro Montalto,
based on work by Luca Faes and Daniele Marinazzo. If you know more
toolboes from this domain, let us know.<br>
  </li>

</ul>
<span style="text-decoration: underline; font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;">Overview:&nbsp; <a href="#News">News</a>, Roadmap, <a href="#BUGS">BUGS</a>, <a href="#Installation_instruction">Installation</a>, <a href="#A_short_example_script">Example</a><br>
</span>
<hr style="width: 100%; height: 2px;"><a name="News"></a><span style="font-weight: bold;">Current Status and News:</span><br>2015-01-02
Thanks to Patricia Wollstadt,&nbsp; the new Version 3.3 is available
for download now, including a new manual. Version 3.3 contains a
rewrite of some statistics functions and brings a <span style="font-weight: bold;">many fold speedup</span>
when searching for the correct delays of the information transfer (~
number of delays searched for). Additional thanks go to Joe Lizier for
pointing out further code changes for speeding up TRENTOO.<br>
<br>
2014-07-24 TRENTOOL's GPU routines are being ported to OPENCL, to make users with non-nvidia hardware happy, too.<br>
<br>
2014-06-13 Bugfix in the routines computing the embedding delay ('tau'). Please update to the latest verison 3.2.<br>
<br>
2013-06-21 Thanks to the very hard work of Mario Martinez Zarzuela and
Patricia Wollstadt a stable TRENTOOL version for the analysis of
nonstatinary data via the ensemble method of Gomez-Herrero and Vicente (<span style="text-decoration: underline;"><a href="http://arxiv.org/abs/1008.0539">http://arxiv.org/abs/1008.0539</a></span>)
is available. Note that you will need a larger amount of trials than
usual to make this work nicely (at least 150 trials of 100ms at 1.2kHz
sampling rate is recommended). Due to the necessary changes in
surrogate statistics for the ensemble method, this will&nbsp; only run
with GPU acceleration. The code for the next neighbour search on GPU
was written by Mario in CUDA. When 'installing' TRENTOOL you will now
have to run a little compiler script in MATLAB to compile the CUDA code
for your card (if you want to use this functionality). To use it, you
will need a CUDA capable graphics card. There is no need to heavily
invest though as a gtx 580 should work (the algorithm uses single
precision arithmetics for now, as this is what our EEGs and MEGs
deliver in useful resolution anyway). <br>
Downlaod the latest version (3.0) <a href="TRENTOOL3.0.zip">here</a>.<br>
<br>
2013-04-02 Analysis of <span style="font-weight: bold;">non-stationary</span> time series is now possible: New routines for the <span style="font-weight: bold;">ensemble approach</span> suggest by Gomez-Herrero and Raul Vicente (<a href="http://arxiv.org/abs/1008.0539">here</a>),
have been implemented together with the corresponding statistical tools
by Mario Martinez Zarzuela and Patricia Wollstadt. You will need a
CUDA-capable GPU (e.g. gtx580 is fine) to run this code. Contact us via
email for a beta version of the code.<br>
<br>2012-12-18
Support for the MATLAB paralle computing toolbox added - see the header
of TEsurrogatestats.m for help on the new options in the configuration
(cfg).<br>
<br>2012-08-30
Presentation at EBMC 2012 San Diego on the model-free reconstruction of
interaction delays with transfer entropy. A paper in the conference
proceedings should appear soon. Another paper detailing the
mathematical theory behind delay reconstruction with transfer entropy
was submitted.<br>
<br>
2012-07-04
Thanks to the work of Nicu Pampu and Patricia Wollstadt, version 2.0.3
adds the possibility to reconstruct the delays of interactions and to
use these reconstructed interaction delays to mark potentially spurious
interactions in the graph (cascade effects, common drive effects).
Moreover second-level binomial statistics have been added to check for
the existence of a direcetd interaction (at the group level).<br>
<br>
2012-05-07
Updated the example script below with a comment demonstrating how to
use cfg.sgncmb to analyze only specific signal combinations (which
might save a lot of time, if one is only interested in these).<br>
<br>
2012-04-30 The TRENTOOL course seems to have been a great success. Please find the <a href="TRENTOOL_workshop_Frankfurt_0412.pdf">course slides here</a>. The new version (2.0.0) is available for download (see above). There are also the <a href="CourseMaterials.zip">Course materials</a>.
Note that these examples run if you set the paths in the scripts
accordingly, and they run only on Matlab 2008b or higher and only on
Linux 64 bit machines (Win and Mac users will have get other variants
of the TSTool toolbox (see <a href="#Installation_instruction">Installation </a>below)).<br>
<br>
2012-02-17&nbsp; Two new developers joined the TRENTOOL team. We
officially welcome Nicu Pampu from the Coneural Institute in
Kluj-Napoca, Rumania and Patricia Wollstadt from Goethe University
Frankfurt as new developers. Nicu has ported TRENTOOL to MATLAB's
parallel computing toolbox, and will look into CUDA support. Patricia
is working on graph-theoretical extesion to the toolbox. These changes
will be available upon release of TRENTOOL2. Beta-testers may contact
michael.wibral &lt;AT&gt; web.de. <br>
<br>
2012-02-17&nbsp; <span style="font-weight: bold;">TRENTOOL course announcement.</span>
Togther with the NeFF Symposium on "Non-linear and model-free measures
of directed interactions in neuroscience" there will be a two-afternoon
course for TRENTOOL users. Reistration fee for course and symposium
will be 50 EUR. To apply send an email to michael.wibral &lt;at&gt;
web.de.<br>
<br>2012-02-17&nbsp; A new experimental version of <span style="font-weight: bold;">TRENTOOL2</span>
is available which offers better organisation of the code and
additional features, including experiemntal support for MATLABs
parallel computing toolbox. Please send an email to michael.wibral
&lt;at&gt; web.de if you are interested in beta-testing.<br>
<br>
2011-11-04&nbsp; The <span style="font-weight: bold;">paper on TRENTOOL was published </span>in
BMC Neuroscience (they publish software-papers which is great and
they're open access which is an added plus), find the provisional pdf <a href="http://www.biomedcentral.com/1471-2202/12/119">here</a>.<br>
<br>
2011-08-17&nbsp; Nico Pampu from the Coneural Center for Cognitive and Neural
Studies pointed out that TRENTOOL at the moment can only handle trials
that are all equal length - as opposed to Fieldtrip code that can in
many processing stages&nbsp; also handle variable length trials. Using
variable length trials would mean using variable time--of-interest
windows as well - which might require a large rework of the software.
At the moment all we can offer is to check for equal length trials and
report an error for variable length trials. This will be done in the
next bugfix.<br>
<br>
2011-08-04&nbsp; A poster detailing the motivation for using trentool and its
special merits was persented at the annual meeting of the Orgnaisation
for Computational Neuroscience (OCNS) in Stockholm. <a href="Wibral_CNS2011_Stockholm.pdf">download poster</a><br>
<br>
2011-08-04&nbsp; BUGFIX release TRENTOOL 1.0.1. This bugfix release adresses
a problem that was encountered when only a subset of channels in the
dataset was used in cfg.channel in combibnation with the Ragwitz
criterion.<br>
<br>
2011-06-13 Felix Siebenhühner contributed a small tool to simulate
batches of coupled AR processes with linear, quadratic, threshold and
mmodulatory/multtiplicatory coupling (Thanks Felix!).<br>
Apart from simulating data, the toolbox does some simple descriptive
statistics and graphs for the batched simulations and TE analyses: true
positive rate, false positive, number of times volume conduction,
instantaneous causality was found ...<br>
You can download the MATLAB code <a href="ARSimTool.zip">here</a>. (NOTE: by downloading you accept the terms of the <a href="http://www.gnu.org/licenses/gpl.html">GPL v3 license</a>). As usual the code comes as is and without any warranty.<br>
<br>

2011-05-25 First release version of TRENTOOL (1.0) accompanies the
submission of a paper on the use of the toolbox (send an email
michael.wibral&lt;at&gt;web.de for preprint). Added some changes to the
installation instruction.<br>
<br>
2011-01-19 Fixed a bug in the Ragwitz criterion that caused occsaional chrashes.<br>
<br>
2011-01-12 Added a download link for the toolbox. Note that it is still
advised to contact michael.wibral&lt;at&gt;web.de before installation.<br>
<br>
2010-11-30<br>
Added <a href="#Installation_instruction">installation instructions</a> and a <a href="#A_short_example_script">short example script</a> - see bottom of this page.<br>

<br>

2010-11-18<br>

A paper using TRENTOOL demonstrating the analysis of cortical and
cerebellar networks at the MEG source level has been accpepted for
publication in 'Progress in Biophysics and Molecular Biology / Special
issue: Brain Modes'. <br>

<br>
2010-07-27<br>

A first paper using TRENTOOL has been accpeted in Journal of Computational Neuroscience (<a href="http://www.springerlink.com/content/047702m5t2p76686/">open access link</a>).<br>
<hr style="width: 100%; height: 2px;"><a style="text-decoration: underline; font-weight: bold;" name="Future_Plans"></a><span style="text-decoration: underline; font-weight: bold;">Future Plans</span><br>
<ul>
  <li>We will introduce a normalized variant of TE for group analysis.<br>
  </li>
  <li>We are working on porting the neighbour search to GPU (cuda)</li>
  <li>We will implement Vicente's ensemble method (see open access article on <a href="http://de.arxiv.org/abs/1008.0539">arXiv</a>)<br>
  </li>
</ul>

<hr style="width: 100%; height: 2px;"><a name="BUGS"></a> <span style="text-decoration: underline; font-weight: bold;">BUGS:</span><br>

<span style="font-weight: bold; font-style: italic;">Status: open</span><br>

<span style="font-weight: bold;"></span><br>

<span style="font-weight: bold;"></span><span style="font-weight: bold;"><br>
<span style="font-style: italic;">Status: closed</span></span><br>
<span style="font-weight: bold;">2012-07-25 Version2.0.3 TRENTOOL does
not check whther the number of available trials is sufficient for the
requested permutations statistics</span>. As a workaround use cfg. minnrtrials = ... to set the number of trials needed for reasonable permutation statistics.<br>
<br>

<span style="font-weight: bold;">2012-09-05 Version 2.0.3 and earlier -
bug in determination of the statistical threshold for one-tailed
permutation testing produced overyl conservative results.<br>
</span>Please update to version 2.0.4<span style="font-weight: bold;"> <br>
<br>
2011-09-26 Version 1.0.1 - problems with cfg.sgncmb trying to access nr(trials) produces indices that are out of range<br>
</span>Please update to version 1.0.2. <br>

<span style="font-weight: bold;"><br>
2011-08-23 Version 1.0.1 - Problems with access of MEX files on certain 32 bit archtictures </span><br>

When you have problems running the open TSTool MEX files for your 32 bit architecture, please update to version 1.0.1a or later<br>

<br style="font-style: italic;">


<span style="font-weight: bold;">2011-07-20</span> <span style="font-weight: bold;">Version 1.0 - Crash when using channels selection via cfg.channel together with the ragwitz criterion</span><br>


When using the ragwitz criterion and only a subset of all available
channels that are combined into channel combinations by TRENTOOL (i.e.
you do not use cfg.sgncmb explicitely, but rather cfg.channel) a wrong
matrix of autocorrelation time gets computed (for all channels instead
of the used ones) and its size causes a chrash in TEprepare around line
470.<br>


WORKAROUND: (a) use all channels of your dataset (works) (b) give an
explicit cfg.sgncmb (unknown) (c) prepare a dataset that only contains
the desired channels (works) (d) use the cao criterion instead (works)<br>


<span style="font-weight: bold;"><br></span><br>

<hr style="width: 100%; height: 2px;"><span style="font-weight: bold;"><br><a name="Installation_instruction"></a> Installation instruction</span><br>
1. Get the open source MATLAB(R) toolbox&nbsp;<span style="font-style: italic;"> TSTool</span>&nbsp; for your architecture (!) from the Juelich Group (<a href="http://www.physik3.gwdg.de/tstool/">http://www.physik3.gwdg.de/tstool/</a>) and unpack.<br>
2. Get a current version of the open source MATLAB(R) toolbox <span style="font-style: italic;">Fieldtrip</span> from the Donders Centre (<a href="http://fieldtrip.fcdonders.nl/">http://fieldtrip.fcdonders.nl/</a>) and unpack.<br>
3. Get <a href="TRENTOOL2.0.0.zip">TRENTOOL</a>.<br>
4. Put the top folder of TRENTOOL in the MATLAB path.<br>
5. Put the top folder of Fieldtrip in the MATLAB path.<br>
6. ( Do not touch the MATLAB path after this - everything else will be handled from inside Fieldtrip and TRENTOOL).<br>
7. Always run the command <span style="font-weight: bold;">ft_defaults;</span> at the beginning of your matlab session or the beginning of your analysis script.<br>
8. DO NOT put <span style="font-style: italic;">TSTool</span>&nbsp;
in your MATLAB path !! Instead in your script specify the path to
TStools via:&nbsp; cfg.Path2TSTOOL =
'/your/path/goes/here/OpenTSTOOL_v1-2'; (this avoid all kinds of nasty
problems with mex files on different architectures).<br>
9. Compile the CUDA code if you want GPU acceleration by calling
install.m from the MATLAB command line in the TERNTOOL folder. There is
also a HOWTO.txt included.<br>
<hr style="width: 100%; height: 2px;"><span style="font-weight: bold;"><br><a name="A_short_example_script"></a>
A short example script</span><br>
filedtripdefs;<br>
<br>
&nbsp;% load the data<br>
&nbsp;&nbsp;&nbsp; load(datafilename)); % say this contains the variable "data"<br>
&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; %%% TE prepare settings %%%<br>
&nbsp;&nbsp;&nbsp; cfg=[];<br>
&nbsp;&nbsp;&nbsp; cfg.optimizemethod='cao'; % select the CAO method to estimate embedding dimensions<br>
&nbsp;&nbsp;&nbsp; cfg.toi = [-0.85 0.05]; % the time interval of interest in secs <br>
&nbsp;&nbsp;&nbsp; cfg.predicttime_u = 32; % the prediction time im ms
(e.g. the axonal delay; always choose bigger values when in doubt -
also see the Vicente, 2010 paper)<br>&nbsp;&nbsp;&nbsp;
cfg.channel = data.label; % a cell array with the names of the channles
you want to analyze. here all cahnnels in the dataset are analyzed<br>
&nbsp;&nbsp;&nbsp; % Alternative: use cfg.sgncmb to just analyze
specific signal combinations e.g. from a channel named channel1 to
a&nbsp; channel named channel101, <br>
&nbsp;&nbsp;&nbsp; % and from a channel named channelA to a&nbsp; channel named channelB :<br>
&nbsp;&nbsp;&nbsp; % cfg.sgncmb={'channel1', 'channel101'; <br>
&nbsp;&nbsp;&nbsp; % &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'channelA', 'channelB'} <br>
&nbsp;&nbsp;&nbsp; cfg.caodim = 1:8; % check dimensions between 1 and 8;<br>
&nbsp;&nbsp;&nbsp; cfg.caokth_neighbors = 3;<br>
&nbsp;&nbsp;&nbsp; cfg.actthrvalue=120; % Do not accpet trials that
have a longer autocorrelation decay time (ACT) than this (helps to
avoid 'out of data' errors)<br>
&nbsp;&nbsp;&nbsp; cfg.minnrtrials=10; % abort calculations if we do not have a least this number of trials with acceptable ACT<br>
&nbsp;&nbsp;&nbsp; cfg.Path2TSTOOL = '/data/common/OpenTSTOOL_v1-2'; % the path where you unpacked the TStool toolbox<br>
&nbsp;&nbsp;&nbsp; cfg.feedback = 'no'; % ...<br>
&nbsp;&nbsp;&nbsp; data=TEprepare(cfg,data); % the actual command that prepares the data for subsequent TE analysis<br>&nbsp;&nbsp;&nbsp;  <br>
&nbsp;&nbsp;&nbsp; %%% stats section %%%<br>
&nbsp;&nbsp;&nbsp; cfg = [];<br>
&nbsp;&nbsp;&nbsp; cfg.surrogatetype = 'trialshuffling'; % the type of surrogates that are created for significance testing<br>
&nbsp;&nbsp;&nbsp; cfg.shifttesttype='TEshift&gt;TE'; % the type of
shift test that is used (Vicente, J Comp Neursci, 2010 and Wibral, Prog
Biophys Mol Biol, 2010)<br>
&nbsp;&nbsp;&nbsp; cfg.fileidout =
strcat('My_prefix_'); % a prefix
for the results filename<br>
&nbsp;&nbsp;&nbsp; TEsurrogatestats(cfg,data); % the actual command
that computes transfer entropy for the original data, the surrogate
data, and the shifttest data and that performs the statistical
test.&nbsp; <br>
<br>
<br>
<br>
<hr style="width: 100%; height: 2px;"><br>
<br>
</body></html>
